const _0x178071 = _0x1b60;
!(function ($, x) {
  let e = _0x1b60,
    _ = $();
  for (;;)
    try {
      let t =
        (parseInt(e(496)) / 1) * (-parseInt(e(571)) / 2) +
        parseInt(e(526)) / 3 +
        (parseInt(e(474)) / 4) * (-parseInt(e(563)) / 5) +
        parseInt(e(561)) / 6 +
        (parseInt(e(464)) / 7) * (-parseInt(e(538)) / 8) +
        (-parseInt(e(555)) / 9) * (-parseInt(e(557)) / 10) +
        parseInt(e(501)) / 11;
      if (754429 === t) break;
      _.push(_.shift());
    } catch (a) {
      _.push(_.shift());
    }
})(_0x1e41, 754429);
const main = document[_0x178071(453)]("main"),
  button = document[_0x178071(453)](_0x178071(541)),
  imagefile = document[_0x178071(453)](_0x178071(503)),
  title = document[_0x178071(453)](_0x178071(539)),
  price = document.querySelector(_0x178071(547)),
  desc = document[_0x178071(453)](_0x178071(521)),
  response = document[_0x178071(453)](_0x178071(578)),
  progress = document[_0x178071(556)](_0x178071(554)),
  cards = document[_0x178071(487)](_0x178071(535)),
  images = document[_0x178071(491)]("img"),
  characters = document[_0x178071(453)](_0x178071(472)),
  thumbInfo = document[_0x178071(453)](_0x178071(479)),
  gifFile = document[_0x178071(453)](_0x178071(575)),
  gifMenu = document[_0x178071(453)](".gif_menu"),
  gifShow = document[_0x178071(453)](_0x178071(459)),
  gifHide = document[_0x178071(453)](".gif_icon_hide"),
  deleteMenu = document[_0x178071(453)](_0x178071(475)),
  deleteShow = document[_0x178071(453)](_0x178071(519)),
  deleteHide = document[_0x178071(453)](_0x178071(569)),
  deleteContainer = document[_0x178071(453)](_0x178071(457)),
  loadingAlert = document[_0x178071(453)](_0x178071(513)),
  gifBcg = document.querySelector(_0x178071(483)),
  userCount = document[_0x178071(453)](_0x178071(562)),
  formData = new FormData();
let progressValue = 0,
  totalSize = 0,
  auctionsData = [];
function _0x1e41() {
  let $ = [
    '<p style="padding-left:10px">Nic tu nie ma!</p>',
    "then",
    "from",
    "#gif",
    "contains",
    "thumbzz_hidden",
    ".response",
    "disabled",
    "innerWidth",
    "querySelector",
    "log",
    "join",
    "title",
    ".delete_container",
    "input",
    ".gif_icon_show",
    "overflow-x: hidden",
    "margin-left: ",
    "size",
    "innerText",
    "63HQbOLE",
    '<span style="margin-right: 10px;"><svg xmlns="http://www.w3.org/2000/svg" width="30px" height="30px" viewBox="0 0 24 24"><path style="fill:green;" d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm4.393 7.5l-5.643 5.784-2.644-2.506-1.856 1.858 4.5 4.364 7.5-7.643-1.857-1.857z"/></svg></span>',
    "visibilitychange",
    "src",
    '<p style="padding-left:10px">Ładowanie ogłoszeń</p>',
    "img",
    '><div><img width="50px" src=',
    "appendChild",
    ".characters",
    "alert_char",
    "4ZEQjkz",
    ".delete_menu",
    "filter",
    "Wpisz tytuł ogłoszenia",
    "append",
    ".thumbzz",
    "<li class=",
    "setAttribute",
    "div",
    ".gif_background",
    "finally",
    "gif_menu_show",
    "createElement",
    "getElementsByClassName",
    "catch",
    "remove",
    "thumbnail",
    "getElementsByTagName",
    "name",
    "currentTarget",
    "delete",
    " Błąd. Spr\xf3buj ponownie.",
    "1154474lvYFiw",
    "overflow:hidden",
    "forEach",
    "getAll",
    "test",
    "6937051PHaGzQ",
    " % - admin.noanzo.pl",
    "#files",
    "<ul>",
    "preventDefault",
    ".card",
    "post",
    '\n<svg  viewBox="0 0 512 512" width="30px" xmlns="http://www.w3.org/2000/svg"><path d="m256 0c-141.164062 0-256 114.835938-256 256s114.835938 256 256 256 256-114.835938 256-256-114.835938-256-256-256zm0 0" fill="#f44336"/><path d="m350.273438 320.105469c8.339843 8.34375 8.339843 21.824219 0 30.167969-4.160157 4.160156-9.621094 6.25-15.085938 6.25-5.460938 0-10.921875-2.089844-15.082031-6.25l-64.105469-64.109376-64.105469 64.109376c-4.160156 4.160156-9.621093 6.25-15.082031 6.25-5.464844 0-10.925781-2.089844-15.085938-6.25-8.339843-8.34375-8.339843-21.824219 0-30.167969l64.109376-64.105469-64.109376-64.105469c-8.339843-8.34375-8.339843-21.824219 0-30.167969 8.34375-8.339843 21.824219-8.339843 30.167969 0l64.105469 64.109376 64.105469-64.109376c8.34375-8.339843 21.824219-8.339843 30.167969 0 8.339843 8.34375 8.339843 21.824219 0 30.167969l-64.109376 64.105469zm0 0" fill="#fafafa"/></svg>        \n',
    "gif",
    "querySelectorAll",
    "http://localhost:8080/delete?id=",
    "image",
    ".loading_alert",
    "files",
    "</span>",
    "hidden",
    "Nowe ogloszenie - admin.noanzo.pl",
    "offsetWidth",
    ".delete_icon_show",
    "loaded",
    "#description",
    "click",
    "Wybierz zdjęcia",
    "Wpisz opis ogłoszenia",
    "delete_menu_show",
    "1534581ALlPFH",
    "removeAttribute",
    "classList",
    "onchange",
    "target",
    ".images",
    '<span class="alertzz">',
    "parentElement",
    '<span><?xml version="1.0" encoding="iso-8859-1"?>\n<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="40px" height="30px" x="30px" y="20px"\n   viewBox="0 0 320.83 320.83" style="enable-background:new 0 0 20 20;" xml:space="preserve">\n<g>\n  <g>\n      <path style="fill:red;" d="M180.494,39.687l-1.333-1.327c-5.009-5.015-11.667-7.772-18.754-7.772\n          c-7.082,0-13.739,2.758-18.748,7.767l-1.333,1.333L5.551,256.847c-5.466,6.413-7.016,14.196-4.112,21.207\n          c3.16,7.631,10.704,12.189,20.173,12.189h277.604c9.475,0,17.013-4.558,20.173-12.189c2.904-7.011,1.354-14.8-4.112-21.207\n          L180.494,39.687z M43.484,257.614L160.413,69.221l116.934,188.393H43.484z"/>\n      <path style="fill:#010002;" d="M143.758,122.002v71.388c0,9.197,7.457,16.654,16.654,16.654s16.654-7.457,16.654-16.654v-71.388\n          c0-9.197-7.457-16.654-16.654-16.654C151.215,105.347,143.758,112.804,143.758,122.002z"/>\n      <circle style="fill:#010002;" cx="160.244" cy="234.906" r="16.486"/>\n  </g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg></span>',
    "card",
    "background_hidden",
    "http://localhost:8080/api/auctions",
    "83624tOnMzl",
    "#title",
    ".delete_item",
    ".button",
    "data",
    "innerHTML",
    "light_item",
    " id=",
    "Wpisz cenę",
    "#price",
    "Trwa przetwarzanie...",
    "add",
    "Przesłano ",
    "map",
    "price",
    "onresize",
    "progress",
    "9tNAGkg",
    "getElementById",
    "3058540AxTBsQ",
    "style",
    "description",
    "length",
    "4309884cfDohS",
    ".data_count",
    "816780rDKJJJ",
    "value",
    "/><p>",
    "preview",
    "url",
    "addEventListener",
    ".delete_icon_hide",
    "round",
    "2cKpWIH",
  ];
  return (_0x1e41 = function () {
    return $;
  })();
}
const config = {
    onUploadProgress($) {
      let x = _0x178071;
      (progressValue = Math[x(570)](($[x(520)] / totalSize) * 100)),
        (progress[x(564)] = isFinite(progressValue) ? progressValue : 0),
        (response[x(463)] = "Przesłano " + progressValue + " %"),
        document[x(516)] && progressValue > 0
          ? (document[x(456)] = x(550) + progressValue + x(502))
          : (document[x(456)] = x(517)),
        progressValue >= 100 && (response[x(463)] = x(548));
    },
  },
  calculateMargin = () => {
    let $ = _0x178071,
      x = deleteMenu.offsetWidth / 2,
      e = deleteContainer[$(518)];
    return ((x - e) / 2).toFixed();
  };
window[_0x178071(580)] > 550 &&
  (deleteContainer[_0x178071(558)] = _0x178071(461) + calculateMargin() + "px"),
  (window[_0x178071(553)] = ($) => {
    let x = _0x178071;
    window[x(580)] > 550
      ? (deleteContainer[x(558)] = x(461) + calculateMargin() + "px")
      : deleteContainer[x(527)](x(558));
  });
const handleDeleteThumbnail = ($) => {
    let x = _0x178071,
      e = $[x(476)](($) => !0 === $[x(490)]);
    return e?.[x(560)] > 0 ? e[0]?.[x(567)] : $[0]?.url;
  },
  handleDelete = ($) => {
    let x = _0x178071,
      e = $[x(493)][x(533)].id;
    axios
      .get(x(511) + e)
      .then(($) => {
        console.log($), handleAuctionsDataFetch();
      })
      [x(488)](($) => console[x(454)]($));
  },
  handleAuctionsDataFetch = () => {
    let $ = _0x178071;
    (deleteContainer.innerHTML = $(468)),
      axios
        .get($(537))
        .then(($) => (auctionsData = $.data))
        [$(484)](() => {
          let x = $;
          if (auctionsData[x(560)] > 0) {
            deleteContainer.innerHTML =
              x(504) +
              auctionsData[x(551)](($, e) => {
                let _ = x;
                return (
                  _(480) +
                  (e % 2 == 0 ? _(544) : "dark_item") +
                  _(545) +
                  $.id +
                  _(470) +
                  handleDeleteThumbnail($[_(512)]) +
                  _(565) +
                  $[_(456)] +
                  '</p></div><div class="delete_item">' +
                  deleteIcon +
                  "</div><li>"
                );
              })[x(455)]("") +
              x(504);
            let e = document.querySelectorAll(x(540)),
              _ = Array[x(574)](e);
            _.forEach(($) => $.addEventListener(x(522), handleDelete));
          } else deleteContainer[x(543)] = x(572);
        })
        [$(488)]((x) => console[$(454)](x));
  };
function _0x1b60($, x) {
  let e = _0x1e41();
  return (_0x1b60 = function ($, x) {
    return e[($ -= 453)];
  })($, x);
}
gifShow[_0x178071(568)](_0x178071(522), () => {
  let $ = _0x178071;
  deleteMenu[$(528)].contains($(525)) &&
    ((main[$(558)] = $(460)),
    deleteMenu[$(528)][$(489)]($(525)),
    gifBcg[$(528)][$(549)]($(536))),
    gifMenu[$(528)].contains("gif_menu_show") ||
      ((main.style = $(497)),
      gifMenu[$(528)].add($(485)),
      gifBcg.classList.remove($(536)));
}),
  gifHide.addEventListener("click", () => {
    let $ = _0x178071;
    gifMenu.classList[$(576)]($(485)) &&
      ((main.style = $(460)),
      gifMenu.classList.remove($(485)),
      gifBcg[$(528)][$(549)]($(536)));
  }),
  deleteShow.addEventListener(_0x178071(522), () => {
    let $ = _0x178071;
    gifMenu[$(528)].contains($(485)) &&
      ((main[$(558)] = "overflow-x: hidden"),
      gifMenu[$(528)][$(489)]($(485)),
      gifBcg[$(528)][$(549)]("background_hidden")),
      deleteMenu[$(528)][$(576)]($(525)) ||
        (0 === auctionsData[$(560)] && handleAuctionsDataFetch(),
        (main[$(558)] = $(497)),
        deleteMenu[$(528)][$(549)]("delete_menu_show"),
        gifBcg.classList[$(489)]($(536)));
  }),
  deleteHide[_0x178071(568)](_0x178071(522), () => {
    let $ = _0x178071;
    deleteMenu.classList.contains($(525)) &&
      ((main[$(558)] = "overflow-x: hidden"),
      deleteMenu[$(528)][$(489)]($(525)),
      gifBcg[$(528)][$(549)]($(536)));
  });
const checkmark = _0x178071(465),
  warning = _0x178071(534),
  deleteIcon = _0x178071(508);
(imagefile[_0x178071(529)] = ($) => {
  let x = _0x178071;
  formData[x(494)](x(512));
  let e = [...$.target[x(514)]];
  for (let _ of (e[x(560)] > 0
    ? thumbInfo.classList[x(489)](x(577))
    : thumbInfo.classList.add(x(577)),
  e))
    formData[x(478)](x(512), _);
  Array.from(cards)[x(498)](($) => {
    $.remove();
  }),
    Array[x(574)](images)[x(498)](($) => {
      let e = x;
      $[e(489)]();
    }),
    e &&
      Array[x(574)](e)[x(498)](($, e) => {
        let _ = x,
          t = document[_(486)](_(482)),
          a = document.createElement(_(469)),
          i = URL.createObjectURL($);
        a.setAttribute(_(467), i),
          a[_(528)][_(549)](_(566)),
          document[_(453)](_(531))[_(471)](t),
          t[_(481)]("id", e),
          t[_(528)].add(_(535)),
          t[_(471)](a),
          t[_(568)](_(522), (x) => {
            let e = _;
            thumbInfo[e(528)][e(549)](e(577)),
              document[e(510)](e(506)).forEach(($) =>
                $[e(528)][e(489)]("border")
              ),
              x[e(493)][e(528)][e(549)]("border"),
              formData.delete("thumbnail"),
              formData[e(478)](e(490), $[e(492)]);
          });
      });
}),
  (gifFile.onchange = ($) => {
    let x = _0x178071;
    formData.delete("gif");
    let e = [...$[x(530)][x(514)]][0];
    formData[x(478)](x(509), e);
  }),
  (title[_0x178071(529)] = ($) => {
    let x = _0x178071;
    formData[x(494)]("title"), formData.append(x(456), title[x(564)]);
  }),
  (price[_0x178071(529)] = ($) => {
    let x = _0x178071;
    formData[x(494)](x(552)), formData[x(478)]("price", price.value);
  }),
  (desc[_0x178071(529)] = ($) => {
    let x = _0x178071;
    formData[x(494)](x(559)), formData[x(478)](x(559), description[x(564)]);
  }),
  desc.addEventListener(_0x178071(458), () => {
    let $ = _0x178071,
      x = desc.value.length;
    (characters[$(463)] = x),
      x > 170
        ? characters[$(528)][$(576)]($(473)) || characters[$(528)].add($(473))
        : characters[$(528)].contains("alert_char") &&
          characters.classList[$(489)]($(473));
  }),
  price[_0x178071(568)]("input", () => {
    let $ = _0x178071;
    price.value > 5e4 && (price[$(564)] = 5e4);
  }),
  document.addEventListener(_0x178071(466), ($) => {
    let x = _0x178071;
    document[x(516)] && progressValue > 0 && progressValue < 100
      ? (document[x(456)] = x(550) + progressValue + " %")
      : (document[x(456)] = "Nowe ogloszenie - admin.noanzo.pl");
  }),
  button.addEventListener(_0x178071(522), ($) => {
    let x = _0x178071;
    $[x(505)]();
    let e =
        !!formData[x(499)](x(456))[0] &&
        !/^\s*$/[x(500)](formData[x(499)]("title")[0]),
      _ = !!formData.getAll(x(552))[0],
      t =
        !!formData.getAll("description")[0] &&
        !/^\s*$/[x(500)](formData[x(499)]("description")[0]),
      a = formData[x(499)](x(512))[x(560)] > 0,
      i = formData.getAll(x(512))[x(560)],
      l = () => {
        let $ = x,
          l = [e, _, t, a, i],
          n = "";
        return (
          l[$(498)]((x, e) => {
            let _ = $;
            x || 2 !== e || (n = _(524)),
              x || 1 !== e || (n = _(546)),
              x || 0 !== e || (n = _(477)),
              x || 3 !== e || (n = _(523)),
              x > 8 && 4 === e && (n = "Wybierz maksymalnie 8 zdjęć");
          }),
          n
        );
      };
    e && _ && t && a && i <= 8
      ? ((response[x(463)] = ""),
        (progress[x(564)] = "0"),
        button[x(481)](x(579), !0),
        imagefile[x(481)]("disabled", !0),
        title[x(481)](x(579), !0),
        price.setAttribute(x(579), !0),
        desc[x(481)]("disabled", !0),
        formData[x(499)]("image")?.[x(498)](($) => {
          let e = x;
          totalSize += $[e(462)];
        }),
        axios[x(507)]("/upload", formData, config, {
          headers: { "Content-Type": "multipart/form-data" },
        })
          [x(573)](($) => {
            let e = x;
            (response[e(543)] =
              "Jesteś niezalogowany" !== $.data
                ? checkmark + "  " + $.data
                : warning + "  " + $[e(542)]),
              (totalSize = 0),
              button[e(527)](e(579)),
              imagefile[e(527)]("disabled"),
              title[e(527)]("disabled"),
              price[e(527)]("disabled"),
              desc[e(527)]("disabled"),
              handleAuctionsDataFetch();
          })
          [x(488)](($) => {
            let e = x;
            console.log($),
              (response[e(543)] = warning + e(495)),
              button[e(527)](e(579)),
              imagefile[e(527)](e(579)),
              title[e(527)](e(579)),
              price[e(527)]("disabled"),
              desc[e(527)](e(579));
          }))
      : (response[x(543)] = warning + x(532) + l() + x(515));
  });
